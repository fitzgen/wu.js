<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <title>wu.js</title>

    <link rel="stylesheet" href="blueprint/screen.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="blueprint/plugins/fancy-type/screen.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="blueprint/print.css" type="text/css" media="print" />
    <!--[if IE]><link rel="stylesheet" href="blueprint/ie.css" type="text/css" media="screen, projection" /><![endif]-->

    <style type="text/css">
      #nav li {
          padding-left: 0;
          margin-left: -1.5em;
      }
      h5 a code {
          font-weight: bold !important;
      }
    </style>

  </head>

  <body>
    <div class="container">

      <h1><code class="large">wu.js</code></h1>

      <hr />
      <h2 class="alt">A lazy, functional Javascript library that ain't nuthin' ta f*ck wit.</h2>
      <hr />

      <div class="span-7 colborder" id="nav">
        <h2>Navigation</h2>
        <ul>
          <li>
            <a href="#introduction">Introduction</a>
            <ul>
              <li><a href="#what-is-wu-js">What is <code>wu.js</code>?</a></li>
              <li><a href="#why">Why?</a></li>
              <li><a href="#how-to-read-this-document">How to read this document</a></li>
              <li><a href="#inspirations">Inspirations</a></li>
            </ul>
          </li>
          <li>
            <a href="#download">Download</a>
          <li>
            <a href="#api">API</a>
            <ul>
              <li>
                <a href="#iterators">Iterators</a>
                <ul>
                  <li>
                    <a href="#lazy">Lazy</a>
                    <ul>
                      <li><a href="#wu-chain"><code>wu.chain</code></a></li>
                      <li><a href="#wu-cycle"><code>wu.cycle</code></a></li>
                      <li><a href="#wu-range"><code>wu.range</code></a></li>
                      <li><a href="#wu-zip"><code>wu.zip</code></a></li>
                      <li><a href="#wu-dot"><code>wu.Iterator.dot</code></a></li>
                      <li><a href="#wu-dropwhile"><code>wu.Iterator.dropWhile</code></a></li>
                      <li><a href="#wu-filter"><code>wu.Iterator.filter</code></a></li>
                      <li><a href="#wu-has"><code>wu.Iterator.has</code></a></li>
                      <li><a href="#wu-map"><code>wu.Iterator.map</code></a></li>
                      <li><a href="#wu-mapply"><code>wu.Iterator.mapply</code></a></li>
                      <li><a href="#wu-takewhile"><code>wu.Iterator.takeWhile</code></a></li>
                    </ul>
                  </li>
                  <li>
                    <a href="#forceful">Forceful</a>
                    <ul>
                      <li><a href="#wu-all"><code>wu.Iterator.all</code></a></li>
                      <li><a href="#wu-any"><code>wu.Iterator.any</code></a></li>
                      <li><a href="#wu-asynceach"><code>wu.Iterator.asyncEach</code></a></li>
                      <li><a href="#wu-each"><code>wu.Iterator.each</code></a></li>
                      <li><a href="#wu-eachply"><code>wu.Iterator.eachply</code></a></li>
                      <li><a href="#wu-force"><code>wu.Iterator.force</code></a></li>
                      <li><a href="#wu-reduce"><code>wu.Iterator.reduce</code></a></li>
                      <li><a href="#wu-reduceright"><code>wu.Iterator.reduceRight</code></a></li>
                      <li><a href="#wu-toarray"><code>wu.Iterator.toArray</code></a></li>
                    </ul>
                  </li>
                  <li><a href="#extending-iterators">Extending iterators</a></li>
                </ul>
              </li>
              <li>
                <a href="#pattern-matching">Pattern matching</a>
                <ul>
                  <li><a href="#wu-match"><code>wu.match</code></a></li>
                </ul>
              </li>
              <li>
                <a href="#lego-functions">Lego functions</a>
                <ul>
                  <li><a href="#wu-bind"><code>wu.bind</code></a></li>
                  <li><a href="#wu-compose"><code>wu.compose</code></a></li>
                  <li><a href="#wu-curry"><code>wu.curry</code></a></li>
                  <li><a href="#wu-partial"><code>wu.partial</code></a></li>
                </ul>
              </li>
              <li>
                <a href="#utilities">Utilities</a>
                <ul>
                  <li><a href="#wu-eq"><code>wu.eq</code></a></li>
                  <li><a href="#wu-toarray"><code>wu.toArray</code></a></li>
                  <li><a href="#wu-tobool"><code>wu.toBool</code></a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li>
            <a href="#contributing">Contributing</a>
          </li>
          <li><a href="#tests">Tests</a></li>
        </ul>
      </div>

      <div class="span-16 last" id="main">

        <p>TODO: analytics</p>

        <h2 id="introduction"><a href="#introduction">Introduction</a></h2>

        <h3 id="what-is-wu-js"><a href="#what-is-wu-js">What is <code>wu.js</code>?</a></h3>

        <p>
          TODO
        </p>

        <h3 id="why"><a href="#why">Why?</a></h3>

        <p>TODO</p>

        <h3 id="how-to-read-this-document"><a href="#how-to-read-this-document">How to read this document</a></h3>

        <p>
          By following along of course! This page has <code>wu.js</code>
          included just so that you can open up your console, tweak every
          example, and play to your heart's content.
        </p>

        <h3 id="inspirations"><a href="#inspirations">Inspirations</a></h3>

        <p>In no particular order:</p>

        <ul>
          <li><a href="http://www.sbcl.org/">Common Lisp</a></li>
          <li><a href="http://www.haskell.org/">Haskell</a></li>
          <li><a href="http://docs.python.org/library/itertools.html">itertools</a></li>
          <li><a href="http://jquery.com/">jQuery</a></li>
          <li><a href="http://www.prototypejs.org/">Prototype</a></li>
          <li><a href="http://documentcloud.github.com/underscore/">underscore.js</a></li>
          <li><a href="http://osteele.com/sources/javascript/functional/">Functional.js</a></li>
          <li><a href="http://github.com/jfd/match-js">match-js</a></li>
          <li><a href="http://closure-library.googlecode.com/svn/docs/closure_goog_iter_iter.js.html">closure/goog/iter</a></li>
        </ul>

        <hr />

        <h2 id="download"><a href="#download">Download</a></h2>

        <p>TODO: link these after a 0.1.0 release with nice pre packaged downloads.</p>

        <div class="span-5">
          <h3>Zip</h3>
        </div>
        <div class="span-5">
          <h3>Tar</h3>
        </div>
        <div class="span-5">
          <h3>Git</h3>
        </div>

        <hr />

        <h2 id="api"><a href="#api">API</a></h2>

        <h3 id="iterators"><a href="#iterators">Iterators</a></h3>

        <p>
          TODO: Paragraph about iterators, .next() and StopIteration, etc...
        </p>

        <h4 id="lazy-methods"><a href="#lazy">Lazy</a></h4>

        <h5 id="wu-chain"><a href="#wu-chain"><code>wu.chain</code></a></h5>
        <pre class="spec">wu.chain(iterable1, iterable2, ..., iterableN)</pre>
        <p>
          Chain the iterable arguments to produce a new iterator over all items
          in the iterables.
        </p>
        <pre class="box">&gt;&gt;&gt; wu.chain([1,2], [3,4], [5,6]).toArray();
[1, 2, 3, 4, 5, 6]</pre>

        <h5 id="wu-cycle"><a href="#wu-cycle"><code>wu.cycle</code></a></h5>
        <pre class="spec">wu.cycle(iterable)</pre>
        <p>
          Create an infinite sequence yielding items from the <code>iterable</code>. Once
          the <code>iterable</code> is exhausted, begin yielding from the start again.
        </p>
        <p>
          Note: trying to force evaluation on infinite sequences will send your
          code in to an infinite loop and freeze the browser!
          Use <code>.takeWhile()</code>, <code>.asyncEach()</code>,
          or <code>.next()</code> when working with infinite sequences.
        </p>
        <pre class="box">&gt;&gt;&gt; var iter = wu.cycle([1,2,3]);
&gt;&gt;&gt; iter.next();
1
&gt;&gt;&gt; iter.next();
2
&gt;&gt;&gt; iter.next();
3
&gt;&gt;&gt; iter.next();
1
&gt;&gt;&gt; iter.next();
2
&gt;&gt;&gt; iter.next();
3
&gt;&gt;&gt; iter.next();
1</pre>

        <h5 id="wu-range"><a href="#wu-range"><code>wu.range</code></a></h5>
        <pre class="spec">wu.range(stop)</pre>
        <pre class="spec">wu.range(start, stop)</pre>
        <pre class="spec">wu.range(start, stop, incr)</pre>
        <p>
          Returns an iterator that yields integers from <code>start</code> up to
          (but not including) <code>stop</code>, incrementing
          by <code>incr</code>. <code>Start</code> defaults to
          0, <code>incr</code> defaults to 1.
        </p>
        <pre class="box">&gt;&gt;&gt; wu.range(3).toArray();
[0, 1, 2]
&gt;&gt;&gt; wu.range(3, 6).toArray()
[3, 4, 5]
&gt;&gt;&gt; wu.range(0, 7, 2).toArray()
[0, 2, 4, 6]</pre>

        <h5 id="wu-zip"><a href="#wu-zip"><code>wu.zip</code></a></h5>
        <pre class="spec">wu.zip(iterableA, iterableB)</pre>
        <p>
          Returns an iterator that yields pairs of the form <code>[a, b]</code>
          where <code>a</code> is the next item in <code>iterableA</code>
          and <code>b</code> is the next item in <code>iterableB</code>.
        </p>
        <pre class="box">&gt;&gt;&gt; wu.zip(wu.cycle(["even", "odd"]), wu.range(6)).toArray();
[["even", 0], ["odd", 1], ["even", 2], ["odd", 3], ["even", 4], ["odd", 5]]</pre>

        <h5 id="wu-dot"><a href="#wu-dot"><code>wu.Iterator.dot</code></a></h5>
        <pre class="spec">iterator.dot(propertyName)</pre>
        <pre class="spec">iterator.dot(methodName)</pre>
        <pre class="spec">iterator.dot(methodName, arg1, arg2, ..., argN)</pre>
        <p>
          Access a property or call a method of each item in this iterator.
        </p>
        <pre class="box">&gt;&gt;&gt; wu({ foo: 1}, { foo: 2 }, { foo: 3}).dot("foo").toArray();
[1, 2, 3]
&gt;&gt;&gt; wu([1, "hi", {}]).dot("toString").toArray();
["1", "hi", "[object Object]"]
&gt;&gt;&gt; wu([[1], [2,3], [4,5,6]]).dot("slice", 1).toArray();
[[], [3], [5,6]]</pre>

        <h5 id="wu-dropwhile"><a href="#wu-dropwhile"><code>wu.Iterator.dropWhile</code></a></h5>
        <pre class="spec">iterator.dropWhile(testFn)</pre>
        <pre class="spec">iterator.dropWhile(testFn, context)</pre>
        <p>
          Drop items from this iterator while <code>testFn</code> returns a
          truthy value. After it returns a non-truthy value, yield each
          remaining element in turn. <code>Context</code> will be used
          as <code>this</code> inside of the <code>testFn</code>. It defaults to
          the iterator.
        </p>
        <pre class="box">&gt;&gt;&gt; wu([1,2,3,2,1]).dropWhile(function (n) { return n &lt; 3; }).toArray();
[3,2,1]</pre>

        <h5 id="wu-filter"><a href="#wu-filter"><code>wu.Iterator.filter</code></a></h5>
        <pre class="spec">iterator.filter(testFn)</pre>
        <pre class="spec">iterator.filter(testFn, context)</pre>
        <p>
          Returns an iterator that yields only the items where
          <code>testFn.call(context, item)</code> returns
          truthy. <code>Context</code> defaults to the iterator.
        </p>
        <pre class="box">&gt;&gt;&gt; wu([1,2,3,4]).filter(function (x) { return x % 2 === 0; }).toArray();
[2, 4]</pre>

        <h5 id="wu-has"><a href="#wu-has"><code>wu.Iterator.has</code></a></h5>
        <pre class="spec">iterator.has(element)</pre>
        <p>
          Is <code>element</code> inside of this iterator? Equality is
          calculated with <code>wu.eq</code>.
        </p>
        <pre class="box">&gt;&gt;&gt; wu([0,1,2]).has(3);
false
&gt;&gt;&gt; wu([{foo:1}, {bar:2}, {baz:3}]).has({bar:2});
true</pre>

        <h5 id="wu-map"><a href="#wu-map"><code>wu.Iterator.map</code></a></h5>
        <pre class="spec">iterator.map(fn)</pre>
        <pre class="spec">iterator.map(fn, context)</pre>
        <p>
          Returns an iterator that yields <code>fn.call(context, item)</code>
          for every item in this iterator. <code>Context</code> defaults to this
          iterator.
        </p>
        <pre class="box">&gt;&gt;&gt; wu.range(5).map(function (n) { return n * n; }).toArray();
[0, 1, 4, 9, 16]
&gt;&gt;&gt; wu.range(10).map(Math.sqrt).map(Math.ceil).toArray();
[0, 1, 2, 2, 2, 3, 3, 3, 3, 3]</pre>

        <h5 id="wu-mapply"><a href="#wu-mapply"><code>wu.Iterator.mapply</code></a></h5>
        <pre class="spec">iterator.mapply(fn)</pre>
        <pre class="spec">iterator.mapply(fn, context)</pre>
        <p>
          The same as wu.Iterator.map, except instead of yeilding
          <code>fn.call(context, item)</code>, it is assumed that every item is
          an array and the resulting iterator yields <code>fn.apply(context,
          item)</code> for every item in this iterator. <code>Context</code>
          defaults to this iterator.
        </p>
        <p>
          <code>Mapply</code> is especially useful with iterating over objects,
          since iterators yield <code>[key, value]</code> pairs for
          objects. However, remember that you can't expect there to be any
          particular order when iterating over objects.
        </p>
        <pre class="box">&gt;&gt;&gt; wu([[0,2], [1,2], [2,2], [3,2]]).mapply(Math.pow).toArray();
[0, 1, 4, 9]
&gt;&gt;&gt; wu({foo:1, bar:2, baz:3}).mapply(function (k, v) { return k + " is " + v; })
...                          .toArray()
...                          .join(", ");
"foo is 1, bar is 2, baz is 3"</pre>

        <h5 id="wu-takewhile"><a href="#wu-takewhile"><code>wu.Iterator.takeWhile</code></a></h5>
        <pre class="spec">iterator.takeWhile(testFn)</pre>
        <pre class="spec">iterator.takeWhile(fn, context)</pre>
        <p>
          Returns a new iterator that yields elements from this iterator as long
          as <code>testFn.call(context, item)</code> is
          truthy. <code>Context</code> defaults to this iterator. Useful when
          working with infinite sequences.
        </p>
        <pre class="box">&gt;&gt;&gt; var i = 10;
&gt;&gt;&gt; wu.cycle([1,2,3]).takeWhile(function (n) { return i-- !== 0; }).toArray();
[1, 2, 3, 1, 2, 3, 1, 2, 3, 1]</pre>

        <h4 id="forceful"><a href="#forceful">Forceful</a></h4>

        <p>
          All of the following methods will force the iterator to be
          evaluated. Be warned: these methods will attempt to evaluate the whole
          of infinite sequences which will send the code in to an infinite loop
          and make the browser freeze!
        </p>

        <h5 id="wu-all"><a href="#wu-all"><code>wu.Iterator.all</code></a></h5>
        <pre class="spec">iterator.all()</pre>
        <pre class="spec">iterator.all(testFn)</pre>
        <pre class="spec">iterator.all(testFn, context)</pre>
        <p>
          Returns true if testFn.call(context, item) is truthy for all items in
          this iterator. <code>Context</code> defaults to this iterator,
          and <code>testFn</code> defualts to coercion to boolean.
        </p>
        <pre class="box">&gt;&gt;&gt; wu([true, 1, {}]).all();
true
&gt;&gt;&gt; wu([true, 0, null]).all();
false
&gt;&gt;&gt; wu([1,2,3,4]).all(function (n) { return n &lt; 5; });
true</pre>

        <h5 id="wu-any"><a href="#wu-any"><code>wu.Iterator.any</code></a></h5>
        <pre class="spec">iterator.any()</pre>
        <pre class="spec">iterator.any(testFn)</pre>
        <pre class="spec">iterator.any(testFn, context)</pre>
        <p>
          Returns true if testFn.call(context, item) is truthy for any items in
          this iterator. <code>Context</code> defaults to this iterator,
          and <code>testFn</code> defualts to coercion to boolean.
        </p>
        <pre class="box">&gt;&gt;&gt; wu([false, false, 1, false]).any();
true
&gt;&gt;&gt; wu([false, 0, null, undefined]).any();
false
&gt;&gt;&gt; wu([1,2,3,4,5]).any(function (n) { return n % 2 === 0; })
true</pre>

        <pre class="box">&gt;&gt;&gt; </pre>

        <pre class="box">&gt;&gt;&gt; </pre>

        <pre class="box">&gt;&gt;&gt; </pre>

        <p>TODO:</p>
        <h5 id="wu-asynceach"><a href="#wu-asynceach"><code>wu.Iterator.asyncEach</code></a></h5>
        <h5 id="wu-each"><a href="#wu-each"><code>wu.Iterator.each</code></a></h5>
        <h5 id="wu-eachply"><a href="#wu-eachply"><code>wu.Iterator.eachply</code></a></h5>
        <h5 id="wu-force"><a href="#wu-force"><code>wu.Iterator.force</code></a></h5>
        <h5 id="wu-reduce"><a href="#wu-reduce"><code>wu.Iterator.reduce</code></a></h5>
        <h5 id="wu-reduceright"><a href="#wu-reduceright"><code>wu.Iterator.reduceRight</code></a></h5>
        <h5 id="wu-toarray"><a href="#wu-toarray"><code>wu.Iterator.toArray</code></a></h5>

        <h4 id="extending-iterators"><a href="#extending-iterators">Extending iterators</a></h4>

        <p>TODO: wu.fn.*, wu.Iterator(function next() {})</p>

        <h3 id="pattern-matching"><a href="#pattern-matching">Pattern matching</a></h3>

        <h3 id="lego-functions"><a href="#lego-functions">Lego functions</a></h3>

        <h3 id="utilities"><a href="#utilities">Utilities</a></h3>

        <hr />

        <h2 id="contributing"><a href="#contributing">Contributing</a></h2>

        <p>
          To get involved in the development of <code>wu.js</code>, just fork
          the repository on Github. When you have something juicy for me, send
          me a pull request.
        </p>

        <div class="span-8">
          <h3 id="github-page"><a href="http://github.com/fitzgen/wu.js">Github page</a></h3>
        </div>
        <div class="span-7">
          <h3 id="issues"><a href="http://github.com/fitzgen/wu.js/issues">Issues</a></h3>
        </div>

        <hr />

        <h2 id="tests"><a href="#tests">Tests</a></h2>

        <p>
          See the <a href="test/wu.tests.html" target="_blank">results of the
          tests right in your browser</a>. If any don't pass, please file a
          ticket in the issue tracker detailing which test failed and what
          browser you are running!
        </p>

      </div>

    </div>

    <script src="lib/wu.js" type="text/javascript"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript"></script>
  </body>

</html>
